const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BnT5Ve6f.js","./BWTZ8OsY.js"])))=>i.map(i=>d[i]);
import{k as U,V as M,W as V,X as D,m as T,Y as j,Z as W,$ as E,a0 as F,a1 as q,g as x,a2 as z,j as H,a3 as Q,a4 as Y,a5 as X,a6 as Z,a7 as G,z as J}from"./BWTZ8OsY.js";const K={trailing:!0};function A(a,r=25,i={}){if(i={...K,...i},!Number.isFinite(r))throw new TypeError("Expected `wait` to be a finite number");let s,t,e=[],n,l;const c=(_,u)=>(n=k(a,_,u),n.finally(()=>{if(n=null,i.trailing&&l&&!t){const g=c(_,l);return l=null,g}}),n);return function(..._){return n?(i.trailing&&(l=_),n):new Promise(u=>{const g=!t&&i.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const y=i.leading?s:c(this,_);for(const m of e)m(y);e=[]},r),g?(s=c(this,_),u(s)):e.push(u)})}}async function k(a,r,i){return await a.apply(r,i)}const ee=Symbol.for("nuxt:client-only"),ae=a=>a==="defer"||a===!1;function ue(...a){var S;const r=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&typeof a[0]!="object"&&!(typeof a[0]=="function"&&typeof a[1]=="function")&&a.unshift(r);let[i,s,t={}]=a;const e=U(()=>M(i));if(typeof e.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const n=V(),l=()=>D.value,c=(o,h,C)=>{if(h.isHydrating)return h.payload.data[o];if(C.cause!=="refresh:manual"&&C.cause!=="refresh:hook")return h.static.data[o]};t.server??(t.server=!0),t.default??(t.default=l),t.getCachedData??(t.getCachedData=c),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=D.deep),t.dedupe??(t.dedupe="cancel"),t._functionName,n._asyncData[e.value];const _=t.getCachedData(e.value,n,{cause:"initial"});(S=n._asyncData[e.value])!=null&&S._init||(n._asyncData[e.value]=R(n,e.value,s,t,_));const u=n._asyncData[e.value];u._deps++;const g=()=>n._asyncData[e.value].execute({cause:"initial",dedupe:t.dedupe}),y=t.server!==!1&&n.payload.serverRendered;{let o=function(d){const f=n._asyncData[d];f!=null&&f._deps&&(f._deps--,f._deps===0&&(f==null||f._off(),f._init=!1,B(n,d),f.execute=()=>Promise.resolve(),n._asyncData[d].data.value=D.value))};const h=H();if(h&&y&&t.immediate&&!h.sp&&(h.sp=[]),h&&!h._nuxtOnBeforeMountCbs){h._nuxtOnBeforeMountCbs=[];const d=h._nuxtOnBeforeMountCbs;Q(()=>{d.forEach(f=>{f()}),d.splice(0,d.length)}),Y(()=>d.splice(0,d.length))}const C=h&&(h._nuxtClientOnly||X(ee,!1));y&&n.isHydrating&&(u.error.value||_!=null)?(u.pending.value=!1,u.status.value=u.error.value?"error":"success"):h&&!C&&(n.payload.serverRendered&&n.isHydrating||t.lazy)&&t.immediate?h._nuxtOnBeforeMountCbs.push(g):t.immediate&&g();const N=z();if(t.watch){const d=T(t.watch,()=>{u._execute({cause:"watch",dedupe:t.dedupe})},{flush:"post"});N&&j(()=>d())}const I=T(e,(d,f)=>{var O,P;const L=((O=n._asyncData[f])==null?void 0:O.data.value)!==D.value;f&&o(f),(P=n._asyncData[d])!=null&&P._init||(n._asyncData[d]=R(n,d,s,t,t.getCachedData(d,n,{cause:"initial"}))),n._asyncData[d]._deps++,(t.immediate||L)&&n._asyncData[d].execute({cause:"initial",dedupe:t.dedupe})},{flush:"sync"});N&&j(()=>{I(),o(e.value)})}const m={data:$(()=>{var o;return(o=n._asyncData[e.value])==null?void 0:o.data}),pending:$(()=>{var o;return(o=n._asyncData[e.value])==null?void 0:o.pending}),status:$(()=>{var o;return(o=n._asyncData[e.value])==null?void 0:o.status}),error:$(()=>{var o;return(o=n._asyncData[e.value])==null?void 0:o.error}),refresh:(...o)=>n._asyncData[e.value].execute(...o),execute:(...o)=>n._asyncData[e.value].execute(...o),clear:()=>B(n,e.value)},b=Promise.resolve(n._asyncDataPromises[e.value]).then(()=>m);return Object.assign(b,m),b}function $(a){return U({get(){var r;return(r=a())==null?void 0:r.value},set(r){const i=a();i&&(i.value=r)}})}function B(a,r){r in a.payload.data&&(a.payload.data[r]=void 0),r in a.payload._errors&&(a.payload._errors[r]=D.errorValue),a._asyncData[r]&&(a._asyncData[r].data.value=void 0,a._asyncData[r].error.value=D.errorValue,a._asyncData[r].pending.value=!1,a._asyncData[r].status.value="idle"),r in a._asyncDataPromises&&(a._asyncDataPromises[r]&&(a._asyncDataPromises[r].cancelled=!0),a._asyncDataPromises[r]=void 0)}function te(a,r){const i={};for(const s of r)i[s]=a[s];return i}function R(a,r,i,s,t){var _;(_=a.payload._errors)[r]??(_[r]=D.errorValue);const e=i,n=s.deep?W:E,l=t!=null,c={data:n(l?t:s.default()),pending:E(!l),error:F(a.payload._errors,r),status:E("idle"),execute:(u={})=>{if(a._asyncDataPromises[r]){if(ae(u.dedupe??s.dedupe))return a._asyncDataPromises[r];a._asyncDataPromises[r].cancelled=!0}if(u.cause==="initial"||a.isHydrating){const y=u.cause==="initial"?t:s.getCachedData(r,a,{cause:u.cause??"refresh:manual"});if(y!=null)return a.payload.data[r]=c.data.value=y,c.error.value=D.errorValue,c.status.value="success",Promise.resolve(y)}c.pending.value=!0,c.status.value="pending";const g=new Promise((y,m)=>{try{y(e(a))}catch(b){m(b)}}).then(async y=>{if(g.cancelled)return a._asyncDataPromises[r];let m=y;s.transform&&(m=await s.transform(y)),s.pick&&(m=te(m,s.pick)),a.payload.data[r]=m,c.data.value=m,c.error.value=D.errorValue,c.status.value="success"}).catch(y=>{if(g.cancelled)return a._asyncDataPromises[r];c.error.value=q(y),c.data.value=x(s.default()),c.status.value="error"}).finally(()=>{g.cancelled||(c.pending.value=!1,delete a._asyncDataPromises[r])});return a._asyncDataPromises[r]=g,a._asyncDataPromises[r]},_execute:A((...u)=>c.execute(...u),0,{leading:!0}),_default:s.default,_deps:0,_init:!0,_hash:void 0,_off:a.hook("app:data:refresh",async u=>{(!u||u.includes(r))&&await c.execute({cause:"refresh:hook"})})};return c}const oe={publication:"v3.5.0--SmUYwmnbcDoxD_xv3Dbrx2c6gBlqveBRuvxLaZIUMCU",content:"v3.5.0--9pCH3cUCp2nzMuBYwObQjZc11Xx-XljYiK9xcg5L0p0"},ne={publication:"_content_publication",content:"_content_content",info:"_content_info"},le={publication:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",zid:"string",type:"string",cover:"string",year:"number",authors:"json",publisher:"string",doi:"string",zenodo:"string"}},content:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json"}},info:{type:"data",fields:{}}},p=(a,r)=>{const i=a._conditions;return i.length>0?`(${i.join(` ${r} `)})`:""},w=a=>{const r=[],i={_conditions:r,where(s,t,e){let n;switch(t.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(e)){const l=e.map(c=>v(c)).join(", ");n=`"${String(s)}" ${t.toUpperCase()} (${l})`}else throw new TypeError(`Value for ${t} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(e)&&e.length===2)n=`"${String(s)}" ${t.toUpperCase()} ${v(e[0])} AND ${v(e[1])}`;else throw new Error(`Value for ${t} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":n=`"${String(s)}" ${t.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":n=`"${String(s)}" ${t.toUpperCase()} ${v(e)}`;break;default:n=`"${String(s)}" ${t} ${v(typeof e=="boolean"?Number(e):e)}`}return r.push(`${n}`),i},andWhere(s){const t=s(w());return r.push(p(t,"AND")),i},orWhere(s){const t=s(w());return r.push(p(t,"OR")),i}};return i},re=(a,r)=>{const i={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},s={__params:i,andWhere(e){const n=e(w());return i.conditions.push(p(n,"AND")),s},orWhere(e){const n=e(w());return i.conditions.push(p(n,"OR")),s},path(e){return s.where("path","=",Z(e))},skip(e){return i.offset=e,s},where(e,n,l){return s.andWhere(c=>c.where(String(e),n,l)),s},limit(e){return i.limit=e,s},select(...e){return e.length&&i.selectedFields.push(...e),s},order(e,n){return i.orderBy.push(`"${String(e)}" ${n}`),s},async all(){return r(a,t()).then(e=>e||[])},async first(){return r(a,t({limit:1})).then(e=>e[0]||null)},async count(e="*",n=!1){return r(a,t({count:{field:String(e),distinct:n}})).then(l=>l[0].count)}};function t(e={}){let n="SELECT ";if(e!=null&&e.count)n+=`COUNT(${e.count.distinct?"DISTINCT ":""}${e.count.field}) as count`;else{const c=Array.from(new Set(i.selectedFields));n+=c.length>0?c.map(_=>`"${String(_)}"`).join(", "):"*"}n+=` FROM ${ne[String(a)]}`,i.conditions.length>0&&(n+=` WHERE ${i.conditions.join(" AND ")}`),i.orderBy.length>0?n+=` ORDER BY ${i.orderBy.join(", ")}`:n+=" ORDER BY stem ASC";const l=(e==null?void 0:e.limit)||i.limit;return l>0&&(i.offset>0?n+=` LIMIT ${l} OFFSET ${i.offset}`:n+=` LIMIT ${l}`),n}return s};function v(a){return`'${String(a).replace(/'/g,"''")}'`}const de=a=>{var i,s;const r=(s=(i=G())==null?void 0:i.ssrContext)==null?void 0:s.event;return re(a,(t,e)=>se(r,t,e))};async function se(a,r,i){return ie(r,i)}async function ie(a,r){return await J(()=>import("./BnT5Ve6f.js"),__vite__mapDeps([0,1]),import.meta.url).then(s=>s.loadDatabaseAdapter(a)).then(s=>s.all(r))}export{le as a,oe as c,de as q,ne as t,ue as u};
